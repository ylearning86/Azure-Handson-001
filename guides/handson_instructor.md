# 講師向けハンズオン運営マニュアル

## 目的

このハンズオンでは次を伝えることを狙います。

- 参加者に **Azure の基本操作と VM 構築** を体験させる  
- **API キーを使わない AI（Managed Identity）** を理解させる  
- あえて「危ない設定」を見せ、**設計・監視・証跡の重要性** を知ってもらう  
- モバイルアプリや IaC デモで、**運用と自動化のイメージ** を持ってもらう

---

## タイムライン（例）

| 時間 | 内容 |
|------|------|
0:00–0:15 | イントロ（目的・注意点）
0:15–1:00 | Portal + VM 構築
1:00–1:30 | Managed Identity で AI 体験
1:30–2:00 | あえて危険設定（NSG）
2:00–2:20 | Defender / Activity Log 確認
2:20–2:35 | Azure モバイルアプリ デモ
2:35–2:55 | Copilot で IaC デモ
2:55–3:00 | まとめ

---

# Defender と Activity Log

## 1. あえて危険設定（NSG デモ）

### デモ内容

- Outbound を **Any → Internet Allow**（優先度 200 など）にする  
- VM から外部通信が通ることを見せる

### 伝えたいメッセージ

> 「Public IP がなくても、設計次第で外へ出られる」  
> 「“閉域”は気合ではなく、設計と検証」

---

## 2. Defender for Cloud の説明

1. **Defender for Cloud** を開く  
2. **Recommendations** を確認

### 伝えたいメッセージ

> 「Defender は“事故の瞬間”を鳴らすアラームではない。  
> 危険な“状態”を検知して、『直そう』と教えてくれる。」

---

## 3. Activity Log で証跡

- リソースグループ → **Activity log**  
- 「誰が」「いつ」「何を」変更したかを確認

### トーク例

> 「Defender は守り、Activity Log は証跡。  
> 両方がそろって初めて“運用”です。」

---

# Azure モバイルアプリ デモ

- スマホでリソース状態確認  
- 可能なら **テスト VM だけ** 停止/起動

> 「出先でも“気づける”運用が重要」

---

# GitHub Copilot × IaC デモ

1. VS Code で `main.bicep` を作成  
2. コメントで要件を書く  
3. Copilot の提案を修正しながら、考え方を解説

> 「AI は“自動生成”だけでなく、**再現性** を作る相棒」

---

# Private Endpoint（講師デモのみ）

| 構成 | メリット |
|------|----------|
Public + Managed Identity | まずは安全・簡単
Private Endpoint + MI | さらに閉じた通信経路

> 今回の参加者は **PE なし** で進行。  
> 発展編として紹介する。

---

# まとめで伝えたいこと

- 設計 → 監視 → 証跡 → 自動化  
- **API キーではなく ID で守る**  
- IaC で「再現性」を作る

---

以上をベースに、当日の進行・説明を組み立ててください。
